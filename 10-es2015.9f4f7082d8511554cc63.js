(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"2yxt":function(e,n,s){"use strict";s.r(n),s.d(n,"ChatPageModule",(function(){return h}));var o=s("ofXK"),i=s("3Pt+"),t=s("TEn/"),r=s("tyNb"),a=s("HDdC"),c=s("fXoL"),b=s("7JkF"),m=s("R7Hv");function g(e,n){if(1&e&&(c.Mb(0,"ion-row",9),c.Mb(1,"ion-col",10),c.Mb(2,"ion-item",11),c.Mb(3,"ion-label",12),c.gc(4),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e){const e=c.Wb().$implicit;c.zb(4),c.ic(" ",e.message," ")}}function u(e,n){if(1&e&&(c.Mb(0,"ion-row",13),c.Mb(1,"ion-col",10),c.Mb(2,"ion-list",14),c.Mb(3,"ion-list-header",15),c.Mb(4,"ion-label"),c.Mb(5,"b"),c.gc(6),c.Lb(),c.Lb(),c.Lb(),c.Mb(7,"ion-item"),c.Mb(8,"ion-label",16),c.gc(9),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e){const e=c.Wb().$implicit;c.zb(6),c.hc(e.username),c.zb(3),c.ic(" ",e.message," ")}}function d(e,n){if(1&e&&(c.Mb(0,"ion-row"),c.Mb(1,"ion-col",17),c.Mb(2,"b"),c.gc(3),c.Lb(),c.gc(4," joined "),c.Lb(),c.Lb()),2&e){const e=c.Wb().$implicit;c.zb(3),c.ic(" ",e.username,"")}}function l(e,n){if(1&e&&(c.Mb(0,"div"),c.fc(1,g,5,1,"ion-row",6),c.fc(2,u,10,2,"ion-row",7),c.fc(3,d,5,1,"ion-row",8),c.Lb()),2&e){const e=n.$implicit,s=c.Wb();c.zb(1),c.Zb("ngIf",e.username==s.username&&"message"==e.type),c.zb(1),c.Zb("ngIf",e.username!=s.username&&"message"==e.type),c.zb(1),c.Zb("ngIf","join"==e.type)}}const f=[{path:"",component:(()=>{class e{constructor(e,n){this.socket=e,this.service=n,this.current_message="",this.messages=[],this.others_messages=[],this.username=this.service.getJdata("username"),this.roomName=this.service.getJdata("roomName"),new a.a(e=>{this.socket.on("received",n=>{console.log("recieved message"),e.next(n)})}).subscribe(e=>{e.type="message",this.messages.push(e)}),this.socket.on("joined room",e=>{this.messages.push({username:e.username,roomName:e.roomName,type:"join"})})}ngOnInit(){}key_press(e){13==e.keyCode&&this.send_message()}send_message(){""!=this.current_message&&(console.log(this.current_message),this.messages.push({username:this.username,message:this.current_message,type:"message"}),this.socket.emit("chat message",{username:this.username,message:this.current_message,roomName:this.roomName}),this.current_message="")}receive_message(){}}return e.\u0275fac=function(n){return new(n||e)(c.Jb(b.a),c.Jb(m.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-chat"]],decls:11,vars:3,consts:[["fullscreen","true"],[4,"ngFor","ngForOf"],[1,"ion-no-bordr"],[2,"position","fixed","bottom","0","width","100%","z-index","1000"],["autocapitalize","","autofocus","","color","primary","inputmode","text","minlength","1","placeholder","Type a message","required","",3,"ngModel","keydown","ngModelChange"],["slot","end","name","send",3,"click"],["class","ion-justify-content-end ion-margin-start",4,"ngIf"],["class","ion-justify-content-start ion-margin-end",4,"ngIf"],[4,"ngIf"],[1,"ion-justify-content-end","ion-margin-start"],["size","auto"],["lines","none","end","",2,"--border-radius","10px","--background","#075E54"],[1,"ion-text-wrap"],[1,"ion-justify-content-start","ion-margin-end"],["lines","none","inset","true","end","",1,"ion-no-padding","ion-margin-start",2,"border-radius","10px!important"],["lines","none",1,"ion-no-padding","ion-no-margin","ion-padding-horizontal",2,"--color","red"],[1,"ion-text-wrap","ion-no-margin","ion-no-padding"],["size-md","4","offset-md","4"]],template:function(e,n){1&e&&(c.Mb(0,"ion-header"),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-title"),c.gc(3),c.Lb(),c.Lb(),c.Lb(),c.Mb(4,"ion-content",0),c.fc(5,l,4,3,"div",1),c.Lb(),c.Mb(6,"ion-footer",2),c.Mb(7,"ion-toolbar"),c.Mb(8,"ion-item",3),c.Mb(9,"ion-input",4),c.Ub("keydown",(function(e){return n.key_press(e)}))("ngModelChange",(function(e){return n.current_message=e})),c.Lb(),c.Mb(10,"ion-icon",5),c.Ub("click",(function(){return n.send_message()})),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.zb(3),c.hc(n.roomName),c.zb(2),c.Zb("ngForOf",n.messages),c.zb(4),c.Zb("ngModel",n.current_message))},directives:[t.h,t.w,t.v,t.e,o.h,t.f,t.k,t.j,t.B,i.b,i.g,i.e,i.f,t.i,o.i,t.t,t.d,t.l,t.m,t.n],styles:[""]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(n){return new(n||e)},imports:[[r.i.forChild(f)],r.i]}),e})(),h=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(n){return new(n||e)},imports:[[o.b,i.a,t.x,p]]}),e})()}}]);